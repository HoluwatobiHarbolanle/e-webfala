{% extends 'extra_base.html' %}

{% block title %}Password Reset Form - E-webfala{% endblock %}

{% block content %}
    <!-- Main Content Section -->
    <main class="flex-grow container mx-auto p-6">
        {% if validlink %}
        <div class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg">
            <h2 class="text-2xl font-semibold text-center text-gray-700 mb-4">Reset Your Password</h2>
            <p class="text-center text-gray-700 mb-6">Please enter (and confirm) your new password.</p>
            
            <form action="" method="post" class="space-y-6">
                {% csrf_token %}
                
                <!-- New password -->
                <div class="space-y-2">
                    <label for="id_new_password1" class="block text-gray-700 font-medium">New password:</label>
                    {{ form.new_password1 }}
                    <div class="text-red-500 text-sm">{{ form.new_password1.errors }}</div>
                </div>
                
                <!-- Confirm new password -->
                <div class="space-y-2">
                    <label for="id_new_password2" class="block text-gray-700 font-medium">Confirm password:</label>
                    {{ form.new_password2 }}
                    <div class="text-red-500 text-sm">{{ form.new_password2.errors }}</div>
                </div>

                <!-- Submit Button -->
                <div class="text-center">
                    <button type="submit" class="bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">Change my password</button>
                </div>
            </form>
        </div>
        {% else %}
        <div class="text-center text-gray-700">
            <h1 class="text-3xl font-bold mb-4">Password Reset Failed</h1>
            <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
        </div>
        {% endif %}
    </main>

{% endblock %}